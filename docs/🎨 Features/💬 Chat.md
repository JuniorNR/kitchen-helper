# üí¨ Chat Feature

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —á–∞—Ç–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

## üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ

`src/features/Chat/`

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
Chat/
‚îú‚îÄ‚îÄ index.ts                    # –ü—É–±–ª–∏—á–Ω—ã–π API
‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îú‚îÄ‚îÄ chat.types.ts          # –¢–∏–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–∞—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ chat.utils.ts          # –£—Ç–∏–ª–∏—Ç—ã (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
‚îî‚îÄ‚îÄ ui/
    ‚îú‚îÄ‚îÄ Chat.tsx               # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∞—Ç–∞
    ‚îú‚îÄ‚îÄ ChatListAside.tsx      # –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–æ —Å–ø–∏—Å–∫–æ–º —á–∞—Ç–æ–≤
    ‚îú‚îÄ‚îÄ ChatMessagesWindow.tsx # –û–∫–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–π
    ‚îú‚îÄ‚îÄ ChatSendControlPanel.tsx # –ü–∞–Ω–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
    ‚îú‚îÄ‚îÄ ChatListAside.skeleton.tsx # Skeleton –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞
    ‚îú‚îÄ‚îÄ ChatMessagesWindow.skeleton.tsx # Skeleton –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
    ‚îî‚îÄ‚îÄ chat.module.scss       # –°—Ç–∏–ª–∏ —á–∞—Ç–∞
```

## üìÑ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### [[üí¨ Chat/üí¨ Chat Component|Chat.tsx]]

–ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∞—Ç–∞, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –≤—Å–µ —á–∞—Å—Ç–∏.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–º —á–∞—Ç–æ–º
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Laravel Echo
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞ –≤ localStorage

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:
- [[üí¨ Chat Entity|üì¶ Entities/üí¨ Chat]]

---

### [[üí¨ Chat/üìã ChatListAside|ChatListAside.tsx]]

–ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–æ —Å–ø–∏—Å–∫–æ–º —á–∞—Ç–æ–≤.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞
- –ü–æ–∫–∞–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ò–Ω–¥–∏–∫–∞—Ü–∏—è –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ê–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ —Å–≤–æ–∏—Ö –∏ —á—É–∂–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

---

### [[üí¨ Chat/üí¨ ChatMessagesWindow|ChatMessagesWindow.tsx]]

–û–∫–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–≤–µ—Ä—Ö –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –Ω–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –∏ —á—É–∂–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- Infinite scroll –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª –ø—Ä–∏ —Å–º–µ–Ω–µ —á–∞—Ç–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

---

### [[üí¨ Chat/üì§ ChatSendControlPanel|ChatSendControlPanel.tsx]]

–ü–∞–Ω–µ–ª—å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ò–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏

---

## üîß –£—Ç–∏–ª–∏—Ç—ã

### `chat.utils.ts`

–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —á–∞—Ç–∞:
- `LIMITS_MESSAGES` - –ª–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (25)

## üîÑ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ß–∞—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Laravel Echo –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:
- –°–æ–±—ã—Ç–∏–µ `.MessageSent` - –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –°–æ–±—ã—Ç–∏–µ `.ChatUpdated` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [[üí¨ Chat Entity|üì¶ Entities/üí¨ Chat]]
- [[üîß Shared/lib/providers/EchoProvider|Echo Provider]]
- [[üîß Shared/lib/configs/echo|Echo –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è]]

