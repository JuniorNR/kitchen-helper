# ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Next.js + SWC)

## `jest.config.ts`
```typescript
import nextJest from "next/jest";
import type { Config } from "jest";

const createJestConfig = nextJest({ dir: "./" });

const customConfig: Config = {
  testEnvironment: "jsdom",
  setupFilesAfterEnv: ["<rootDir>/setupTests.ts"],
  moduleNameMapper: {
    "\\.(css|scss|sass)$": "identity-obj-proxy",
    "^@/(.*)$": "<rootDir>/src/$1",
    "^~/(.*)$": "<rootDir>/src/$1",
    "^.+\\.(png|jpg|jpeg|gif|svg|webp)$": "<rootDir>/__mocks__/fileMock.js"
  },
  testMatch: [
    "**/__tests__/**/*.(spec|test).[tj]s?(x)",
    "**/?(*.)+(spec|test).[tj]s?(x)"
  ],
  clearMocks: true
};

export default createJestConfig(customConfig);
```

## `setupTests.ts`
```typescript
import "@testing-library/jest-dom";
import "whatwg-fetch";

// –î–ª—è TextEncoder/TextDecoder (–µ—Å–ª–∏ —É–ø–∞–¥—ë—Ç):
// import { TextEncoder, TextDecoder } from "node:util";
// Object.assign(global, { TextEncoder, TextDecoder });
```

## –°–∫—Ä–∏–ø—Ç—ã –≤ `package.json`
```json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage"
  }
}
```

## üîç –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ —ç—Ç–æ–º —à–∞–≥–µ
- –°–æ–∑–¥–∞—Ç—å `jest.config.ts` –≤ –∫–æ—Ä–Ω–µ –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ –≤—ã—à–µ.  
- –°–æ–∑–¥–∞—Ç—å `setupTests.ts` –≤ –∫–æ—Ä–Ω–µ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å `jest-dom` + `whatwg-fetch`.  
- –î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã `test`, `test:watch`, `test:coverage` –≤ `package.json`.  
- –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–ª–∏–∞—Å—ã ‚Äî –¥–æ–ø–∏—Å—ã–≤–∞–µ–º –∏—Ö –≤ `moduleNameMapper` –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏.  
- –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ `pnpm test -- --help` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥.

## ‚Üî –ù–∞–≤–∏–≥–∞—Ü–∏—è
- –ù–∞–∑–∞–¥: [[üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞|jest-rtl/üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞]]
- –î–∞–ª–µ–µ: [[üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –º–æ–∫–∏|jest-rtl/üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –º–æ–∫–∏]]

